import { useContext } from 'react';
import { DatosContext } from '../../../hooks/storeProvider';
import { Button } from '../universal/Button';
import { motion } from 'framer-motion';
import { AiFillDelete } from 'react-icons/ai';

//?????????????????????????????????????????????????????????????????
//?????????????????????????????????????????????????????????????????
//?????????????????????????????????????????????????????????????????

export const BtnBorrarCarpetas = ({ id, color, cantidad }) => {
	const { datos, setDatos } = useContext(DatosContext);

	const variants = {
		hidden: {},
		visible: {
			bottom: '5px',
			height: '40px',
			left: '5px',
			placeItems: 'center',
			position: 'absolute',
			transition: { duration: 0.3 },
			width: '150px',

			display: 'grid'
		}
	};
	
	function handleClick() {
		if (datos.carpetas.length !== 0) {
			setDatos({
				...datos,
				modalMenuColores: false,
				modalConfirmacion: {visible: true, descripcion: '¿Borrar Todo Permanentemente?'},
				fondoOpacado: true,
				accionBtnSi: () =>
					setDatos({
						...datos,
						carpetas: [],
						modalConfirmacion: {visible: false, descripcion: '¿Borrar Todo Permanentemente?'}
					}),
				accionFondoOpacado: () => {
					setDatos({
						...datos,
						modalConfirmacion: false,
						fondoOpacado: false
					});
				}
			});
		}
	}

	return (
		<motion.div variants={variants} initial="hidden" animate="visible">
			<Button onclick={handleClick}>
				<h3>Borrar Todo</h3>
				<AiFillDelete />
			</Button>
		</motion.div>
	);
};
